<div class="flex flex-col flex-auto min-w-0">
    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div
                class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12"
            >
                <!-- Avatar and name -->
                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex flex-col min-w-0 ml-4">
                        <ng-container *transloco="let t">
                            <div
                                class="text-xl md:text-xl font-semibold tracking-tight leading-7 md:leading-snug truncate"
                            >
                                Create Organization
                            </div>
                        </ng-container>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6 my-6">
        <div class="w-5/6 max-w-screen-xl mx-auto">
            <div
                class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden"
            >
                <div class="flex flex-col mt-2">
                    <div
                        class="text-lg font-medium tracking-tight leading-6 truncate mb-6"
                    >
                        Please fill out all required fields.
                    </div>
                    <form [formGroup]="groupedForm" class="w-full">
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-legal-name"
                                >
                                    Legal Name *
                                </label>
                                <mat-form-field style="width: 100%">
                                    <input
                                        matInput
                                        placeholder="Legal Name"
                                        formControlName="legalName"
                                        value="{{ legalName }}"
                                        required
                                        (keyup)="
                                            legalName$.next($event.target.value)
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('legalName')
                                                .hasError('required')
                                        "
                                    >
                                        Legal Name is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-organization-description"
                                >
                                    Organization Description
                                </label>
                                <mat-form-field style="width: 100%">
                                    <textarea
                                        class="resize-none"
                                        matInput
                                        matTextareaAutosize
                                        rows="5"
                                        matAutosizeMinRows="5"
                                        matAutosizeMaxRows="5"
                                        maxLength="500"
                                        placeholder="Description"
                                        formControlName="description"
                                        value="{{ description }}"
                                        (keyup)="
                                            description$.next(
                                                $event.target.value
                                            )
                                        "
                                    ></textarea>
                                    <mat-hint align="end"
                                        >{{ description?.toString().length }} /
                                        500</mat-hint
                                    >
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-year-founded"
                                >
                                    Year Founded *
                                </label>
                                <mat-form-field class="year-founded">
                                    <input
                                        matInput
                                        placeholder="Year Founded"
                                        formControlName="yearFounded"
                                        maxlength="4"
                                        value="{{ yearFounded }}"
                                        required
                                        (keyup)="
                                            yearFounded$.next(
                                                $event.target.value
                                            )
                                        "
                                    />
                                    <mat-hint align="end"
                                        >{{ yearFounded?.toString().length }} /
                                        4</mat-hint
                                    >
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('yearFounded')
                                                .hasError('required')
                                        "
                                    >
                                        Year Founded is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/2 px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-current-operating-budget"
                                >
                                    Current Operating Budget *
                                </label>
                                <mat-form-field
                                    class="current-operating-budget"
                                >
                                    <input
                                        matInput
                                        formControlName="currentOperatingBudget"
                                        placeholder="Current Operating Budget"
                                        currencyMask
                                        required
                                        value="{{ currentOperatingBudget }}"
                                        (keyup)="
                                            currentOperatingBudget$.next(
                                                $event.target.value
                                            )
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('currentOperatingBudget')
                                                .hasError('required')
                                        "
                                    >
                                        Current Operating Budget is
                                        <strong>required</strong>
                                    </mat-error>
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('currentOperatingBudget')
                                                .hasError('min')
                                        "
                                    >
                                        Current Operating Budget is must be
                                        <strong>positive</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-executive-director"
                                >
                                    Executive Director *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="Executive Director"
                                        formControlName="director"
                                        value="{{ director }}"
                                        required
                                        (keyup)="
                                            director$.next($event.target.value)
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('director')
                                                .hasError('required')
                                        "
                                    >
                                        Executive Director is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/2 px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-phone"
                                >
                                    Phone Number *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        formControlName="phone"
                                        value="{{ phone }}"
                                        type="tel"
                                        appPhoneMask
                                        formControlName="phone"
                                        id="phone-number"
                                        placeholder="Phone Number"
                                        (keyup)="
                                            phone$.next($event.target.value)
                                        "
                                        required
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('phone')
                                                .hasError('required')
                                        "
                                    >
                                        Phone Number is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            class="block tracking-wide text-gray-700 text-base mb-2"
                        >
                            Contact Person
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-contact-person"
                                >
                                    Name *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="Contact Person"
                                        formControlName="contactPerson"
                                        value="{{ contactPerson }}"
                                        (keyup)="
                                            contactPerson$.next(
                                                $event.target.value
                                            )
                                        "
                                        required
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('contactPerson')
                                                .hasError('required')
                                        "
                                    >
                                        Contact Person is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/2 px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-contact-person-title"
                                >
                                    Title *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="Title"
                                        formControlName="contactPersonTitle"
                                        value="{{ contactPersonTitle }}"
                                        (keyup)="
                                            contactPersonTitle$.next(
                                                $event.target.value
                                            )
                                        "
                                        required
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('contactPersonTitle')
                                                .hasError('required')
                                        "
                                    >
                                        Contact Person Title is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-contact-person-phone-number"
                                >
                                    Phone Number *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        class="form-control"
                                        value="{{ contactPersonPhoneNumber }}"
                                        type="tel"
                                        appPhoneMask
                                        formControlName="contactPersonPhoneNumber"
                                        id="phone-number"
                                        placeholder="Phone Number"
                                        (keyup)="
                                            contactPersonPhoneNumber$.next(
                                                $event.target.value
                                            )
                                        "
                                        required
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('contactPersonPhoneNumber')
                                                .hasError('required')
                                        "
                                    >
                                        Contact Person Phone Number is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-email"
                                >
                                    Email *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        class="form-control"
                                        value="{{ email }}"
                                        type="text"
                                        formControlName="email"
                                        id="email"
                                        placeholder="Email"
                                        (keyup)="
                                            email$.next($event.target.value)
                                        "
                                        required
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('email')
                                                .hasError('required')
                                        "
                                    >
                                        Contact Person Email is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div
                            class="block tracking-wide text-gray-700 text-base mb-2"
                        >
                            Principal/Administrative Office
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-address"
                                >
                                    Address *
                                </label>
                                <mat-form-field class="quarter-width">
                                    <input
                                        matInput
                                        placeholder="Address"
                                        formControlName="address"
                                        value="{{ address }}"
                                        required
                                        (keyup)="
                                            address$.next($event.target.value)
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('address')
                                                .hasError('required')
                                        "
                                    >
                                        Address is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-city"
                                >
                                    City *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="City"
                                        formControlName="city"
                                        value="{{ city }}"
                                        required
                                        (keyup)="
                                            city$.next($event.target.value)
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('city')
                                                .hasError('required')
                                        "
                                    >
                                        City is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/3 px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-state"
                                >
                                    State *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="State"
                                        formControlName="state"
                                        value="{{ state }}"
                                        required
                                        (keyup)="
                                            state$.next($event.target.value)
                                        "
                                    />
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('state')
                                                .hasError('required')
                                        "
                                    >
                                        State is
                                        <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                            <div class="w-full md:w-1/3 px-3">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-zip"
                                >
                                    Zip *
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        placeholder="Zip"
                                        maxlength="5"
                                        formControlName="zip"
                                        value="{{ zip }}"
                                        required
                                        (keyup)="zip$.next($event.target.value)"
                                    />
                                    <mat-hint align="end"
                                        >{{ zip?.toString().length }} /
                                        5</mat-hint
                                    >
                                    <mat-error
                                        *ngIf="
                                            groupedForm
                                                .get('zip')
                                                .hasError('required')
                                        "
                                    >
                                        Zip is <strong>required</strong>
                                    </mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                        <div class="flex flex-wrap -mx-3 mb-6">
                            <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                                <label
                                    class="block tracking-wide text-sm mb-2"
                                    for="grid-fax"
                                >
                                    Fax
                                </label>
                                <mat-form-field>
                                    <input
                                        matInput
                                        value="{{ fax }}"
                                        type="tel"
                                        appPhoneMask
                                        formControlName="fax"
                                        id="fax"
                                        placeholder="Fax"
                                        (keyup)="fax$.next($event.target.value)"
                                    />
                                </mat-form-field>
                            </div>
                        </div>
                    </form>
                    <div
                        class="sm:col-span-2 md:col-span-4 flex flex-col flex-auto p-6 rounded-2xl overflow-hidden"
                    >
                        <div
                            class="flex flex-col sm:flex-row items-start justify-between"
                        >
                            <div
                                class="text-lg font-medium tracking-tight leading-6 truncate"
                            >
                                * indicates required.
                            </div>
                            <div class="mt-3 sm:mt-0 sm:ml-2">
                                <button
                                    class="fuse-mat-button-large mt-6"
                                    mat-raised-button
                                    [color]="'primary'"
                                    (click)="cancel()"
                                >
                                    Cancel
                                </button>
                                <button
                                    class="fuse-mat-button-large mt-6"
                                    mat-raised-button
                                    [color]="'primary'"
                                    [disabled]="!groupedForm.valid"
                                    (click)="createOrg()"
                                >
                                    Create
                                </button>
                            </div>
                        </div>
                        <div
                            class="text-lg font-medium tracking-tight leading-6 truncate text-center my-6"
                        >
                            <mat-error *ngIf="showMessage">
                                {{ message }}
                            </mat-error>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
