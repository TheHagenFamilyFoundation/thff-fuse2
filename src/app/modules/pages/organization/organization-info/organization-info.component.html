<section editableGroup (editableModeChange)="handleModeChange($event)" (save)="updateGroupedEdition()"
    (cancel)="cancelGroupedEdition()">
    <div *ngIf="isDirector && !inOrg" class="py-4">
        Edit As Director?
        <button mat-raised-button *ngIf="!directorEditing" (click)="toggleDirectorEdit()">
            Edit
        </button>
        <button mat-raised-button *ngIf="directorEditing" (click)="toggleDirectorEdit()">
            Cancel
        </button>
    </div>
    <div class="flex flex-col sm:flex-row items-start justify-between">
        <div class="text-xl font-semibold tracking-tight leading-6 truncate">
            Organization Profile
        </div>
        <div *ngIf="inOrg || directorEditing" class="mt-3 sm:mt-0 sm:ml-2">
            <button mat-raised-button *ngIf="mode === 'view'" data-testid="groupedForm-edit-btn" editableGroupEdit>
                Edit
            </button>
            <button mat-raised-button *ngIf="mode === 'edit' && groupedForm.valid" data-testid="groupedForm-save-btn"
                editableGroupSave>
                Save
            </button>
            <button mat-raised-button *ngIf="mode === 'edit'" data-testid="groupedForm-cancel-btn" editableGroupCancel>
                Cancel
            </button>
        </div>
    </div>
    <div class="flex flex-col mt-2">
        <div *ngIf="editing">
            <form *ngIf="orgInfo" [formGroup]="groupedForm" class="w-full max-w-lg">
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-legal-name">
                            Legal Name
                        </label>
                        <mat-form-field style="width: 100%">
                            <input matInput placeholder="Legal Name" formControlName="legalName" value="{{ legalName }}"
                                required (keyup)="legalName$.next($event.target.value)" />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('legalName')
                                        .hasError('required')
                                ">
                                Legal Name is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-year-founded">
                            Year Founded
                        </label>
                        <mat-form-field class="year-founded">
                            <input matInput placeholder="Year Founded" formControlName="yearFounded" maxlength="4"
                                value="{{ yearFounded }}" required (keyup)="yearFounded$.next($event.target.value)" />
                            <mat-hint align="end">{{ yearFounded?.toString().length }} /
                                4</mat-hint>
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('yearFounded')
                                        .hasError('required')
                                ">
                                Year Founded is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/2 px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-current-operating-budget">
                            Current Operating Budget
                        </label>
                        <mat-form-field class="current-operating-budget">
                            <input matInput formControlName="currentOperatingBudget"
                                placeholder="Current Operating Budget" currencyMask required
                                value="{{ currentOperatingBudget }}" (keyup)="
                                    currentOperatingBudget$.next(
                                        $event.target.value
                                    )
                                " />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('currentOperatingBudget')
                                        .hasError('required')
                                ">
                                Current Operating Budget is
                                <strong>required</strong>
                            </mat-error>
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('currentOperatingBudget')
                                        .hasError('min')
                                ">
                                Current Operating Budget is must be
                                <strong>positive</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-executive-director">
                            Executive Director
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="Executive Director" formControlName="director"
                                value="{{ director }}" required (keyup)="director$.next($event.target.value)" />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('director')
                                        .hasError('required')
                                ">
                                Executive Director is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/2 px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-phone">
                            Phone Number
                        </label>
                        <mat-form-field>
                            <input matInput formControlName="phone" value="{{ phone }}" type="tel" appPhoneMask
                                formControlName="phone" id="phone-number" placeholder="Phone Number"
                                (keyup)="phone$.next($event.target.value)" required />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('phone')
                                        .hasError('required')
                                ">
                                Phone Number is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="block tracking-wide text-gray-700 text-base mb-2">
                    Contact Person
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-contact-person">
                            Name
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="Contact Person" formControlName="contactPerson"
                                value="{{ contactPerson }}" (keyup)="
                                    contactPerson$.next($event.target.value)
                                " required />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('contactPerson')
                                        .hasError('required')
                                ">
                                Contact Person is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/2 px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-title">
                            Title
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="Title" formControlName="contactPersonTitle"
                                value="{{ contactPersonTitle }}" (keyup)="
                                    contactPersonTitle$.next(
                                        $event.target.value
                                    )
                                " required />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('contactPersonTitle')
                                        .hasError('required')
                                ">
                                Contact Person Title is
                                <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-phone-number">
                            Phone Number
                        </label>
                        <mat-form-field>
                            <input matInput class="form-control" value="{{ contactPersonPhoneNumber }}" type="tel"
                                appPhoneMask formControlName="contactPersonPhoneNumber" id="phone-number"
                                placeholder="Phone Number" (keyup)="
                                    contactPersonPhoneNumber$.next(
                                        $event.target.value
                                    )
                                " required />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('contactPersonPhoneNumber')
                                        .hasError('required')
                                ">
                                Contact Person Phone Number is
                                <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-email">
                            Email
                        </label>
                        <mat-form-field>
                            <input matInput class="form-control" value="{{ email }}" type="text" formControlName="email"
                                id="email" placeholder="Email" (keyup)="email$.next($event.target.value)" required />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('email')
                                        .hasError('required')
                                ">
                                Contact Person Email is
                                <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="block tracking-wide text-gray-700 text-base mb-2">
                    Principal/Administrative Office
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-address">
                            Address
                        </label>
                        <mat-form-field class="quarter-width">
                            <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="1" cdkAutosizeMaxRows="50"
                                placeholder="Address" formControlName="address" value="{{ address }}" required
                                (keyup)="address$.next($event.target.value)"></textarea>
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('address')
                                        .hasError('required')
                                ">
                                Address is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-city">
                            City
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="City" formControlName="city" value="{{ city }}" required
                                (keyup)="city$.next($event.target.value)" />
                            <mat-error *ngIf="
                                    groupedForm.get('city').hasError('required')
                                ">
                                City is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/3 px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-state">
                            State
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="State" formControlName="state" value="{{ state }}" required
                                (keyup)="state$.next($event.target.value)" />
                            <mat-error *ngIf="
                                    groupedForm
                                        .get('state')
                                        .hasError('required')
                                ">
                                State is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="w-full md:w-1/3 px-3">
                        <label class="block tracking-wide text-sm mb-2" for="grid-zip">
                            Zip
                        </label>
                        <mat-form-field>
                            <input matInput placeholder="Zip" maxlength="5" formControlName="zip" value="{{ zip }}"
                                required (keyup)="zip$.next($event.target.value)" />
                            <mat-hint align="end">{{ zip?.toString().length }} / 5</mat-hint>
                            <mat-error *ngIf="
                                    groupedForm.get('zip').hasError('required')
                                ">
                                Zip is <strong>required</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block tracking-wide text-sm mb-2" for="grid-website">
                            Website
                        </label>
                        <mat-form-field>
                            <input matInput value="{{ website }}" type="text" formControlName="website" id="website"
                                placeholder="Website" (keyup)="website$.next($event.target.value)" />
                        </mat-form-field>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div *ngIf="editing">
        <div class="flex flex-col sm:flex-row items-start justify-between">
            <div class="text-lg font-medium tracking-tight leading-6 truncate"></div>
            <div class="mt-3 sm:mt-0 sm:ml-2">
                <button mat-raised-button *ngIf="mode === 'view'" data-testid="groupedForm-edit-btn" editableGroupEdit>
                    Edit
                </button>
                <button mat-raised-button *ngIf="mode === 'edit' && groupedForm.valid"
                    data-testid="groupedForm-save-btn" editableGroupSave>
                    Save
                </button>
                <button mat-raised-button *ngIf="mode === 'edit'" data-testid="groupedForm-cancel-btn"
                    editableGroupCancel>
                    Cancel
                </button>
            </div>
        </div>
    </div>
</section>
<!--TODO: Check the edit in place toggle -->
<div *ngIf="directorEditing || inOrg">
    <section>
        <article>
            <div *ngIf="!editing">
                <form *ngIf="orgInfo" [formGroup]="groupedForm" class="w-full max-w-lg">
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-legal-name">
                                Legal Name
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'legalName',
                                    'legalNameControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'legalName',
                                    'legalNameControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputLegalName
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.legalName }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Legal Name" type="text"
                                            [formControl]="legalNameControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputLegalName">
                                Legal Name is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-year-founded">
                                Year Founded
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'yearFounded',
                                    'yearFoundedControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'yearFounded',
                                    'yearFoundedControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputYearFounded
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.yearFounded }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Year Founded" type="text"
                                            [formControl]="yearFoundedControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputYearFounded">
                                Year founded is <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-current-operating-budget">
                                Current Operating Budget
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'currentOperatingBudget',
                                    'currentOperatingBudgetControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'currentOperatingBudget',
                                    'currentOperatingBudgetControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputCurrentOperatingBudget
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{
                                        orgObj.currentOperatingBudget | currency
                                        }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable currencyMask
                                            data-testid="sample-input-click-edit" placeholder="Current Operating Budget"
                                            type="text" [formControl]="
                                            currentOperatingBudgetControl
                                        " />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputCurrentOperatingBudget">
                                Current Operating Budget is
                                <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-executive-director">
                                Executive Director
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField('director', 'directorControl')
                            " (cancel)="
                                cancelSingleField('director', 'directorControl')
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputDirector
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.director }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Executive Director"
                                            type="text" [formControl]="directorControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputDirector">
                                Director Name is <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-phone">
                                Phone Number
                            </label>
                            <editable data-testid="sample-input-click"
                                (save)="updateSingleField('phone', 'phoneControl')" (cancel)="
                                cancelSingleField('phone', 'phoneControl')
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputPhone
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.phone }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input editableFocusable appPhoneMask maxlength="10"
                                            data-testid="sample-input-click-edit" placeholder="Phone Number" type="tel"
                                            [formControl]="phoneControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputPhone">
                                Phone Number is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="block tracking-wide text-gray-700 text-base mb-2">
                        Contact Person
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person">
                                Name
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'contactPerson',
                                    'contactPersonControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'contactPerson',
                                    'contactPersonControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputContactPerson
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.contactPerson }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Name" type="text"
                                            [formControl]="contactPersonControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputContactPerson">
                                Contact Person Name is <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-title">
                                Title
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'contactPersonTitle',
                                    'contactPersonTitleControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'contactPersonTitle',
                                    'contactPersonTitleControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputContactPersonTitle
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.contactPersonTitle }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Contact Person Title"
                                            type="text" [formControl]="
                                            contactPersonTitleControl
                                        " />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputContactPersonTitle">
                                Contact Person Title is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-phone-number">
                                Phone Number
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField(
                                    'contactPersonPhoneNumber',
                                    'contactPersonPhoneNumberControl'
                                )
                            " (cancel)="
                                cancelSingleField(
                                    'contactPersonPhoneNumber',
                                    'contactPersonPhoneNumberControl'
                                )
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputContactPersonPhoneNumber
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.contactPersonPhoneNumber }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable appPhoneMask maxlength="10"
                                            data-testid="sample-input-click-edit" placeholder="Phone Number" type="tel"
                                            [formControl]="
                                            contactPersonPhoneNumberControl
                                        " />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputContactPersonPhoneNumber">
                                Contact Person Phone Number is
                                <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-email">
                                Email
                            </label>
                            <editable data-testid="sample-input-click"
                                (save)="updateSingleField('email', 'emailControl')" (cancel)="
                                cancelSingleField('email', 'emailControl')
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputEmail
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.email }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Email" type="text"
                                            [formControl]="emailControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputEmail">
                                Email is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="block tracking-wide text-gray-700 text-base mb-2">
                        Principal/Administrative Office
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-address">
                                Address
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField('address', 'addressControl')
                            " (cancel)="
                                cancelSingleField('address', 'addressControl')
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputAddress
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.address }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Address" type="text"
                                            [formControl]="addressControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputAddress">
                                Address is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-city">
                                City
                            </label>
                            <editable data-testid="sample-input-click" (save)="updateSingleField('city', 'cityControl')"
                                (cancel)="cancelSingleField('city', 'cityControl')">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputCity ? 'border-red-600' : ''
                                    }}">
                                        {{ orgObj.city }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="City" type="text"
                                            [formControl]="cityControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputCity">
                                City is <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/3 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-state">
                                State
                            </label>
                            <editable data-testid="sample-input-click"
                                (save)="updateSingleField('state', 'stateControl')" (cancel)="
                                cancelSingleField('state', 'stateControl')
                            ">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputState
                                            ? 'border-red-600'
                                            : ''
                                    }}">
                                        {{ orgObj.state }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="State" type="text"
                                            [formControl]="stateControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputState">
                                State is <strong>required</strong>
                            </mat-error>
                        </div>
                        <div class="w-full md:w-1/3 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-zip">
                                Zip
                            </label>
                            <editable data-testid="sample-input-click" (save)="updateSingleField('zip', 'zipControl')"
                                (cancel)="cancelSingleField('zip', 'zipControl')">
                                <ng-template viewMode>
                                    <div class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200 {{
                                        invalidInputZip ? 'border-red-600' : ''
                                    }}">
                                        {{ orgObj.zip }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Zip" type="text"
                                            [formControl]="zipControl" />
                                    </div>
                                </ng-template>
                            </editable>
                            <mat-error *ngIf="invalidInputZip">
                                Zip is <strong>required</strong>
                            </mat-error>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-website">
                                Website
                            </label>
                            <editable data-testid="sample-input-click" (save)="
                                updateSingleField('website', 'websiteControl')
                            " (cancel)="
                                cancelSingleField('website', 'websiteControl')
                            ">
                                <ng-template viewMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight hover:border-gray-500 hover:bg-slate-200">
                                        {{ orgObj.website }}
                                    </div>
                                </ng-template>
                                <ng-template editMode>
                                    <div
                                        class="appearance-none block w-full text-gray-700 border rounded py-3 px-4 mb-3 focus:outline focus:bg-white focus:border-gray-500">
                                        <input class="form-control" editableFocusable
                                            data-testid="sample-input-click-edit" placeholder="Website" type="text"
                                            [formControl]="websiteControl" />
                                    </div>
                                </ng-template>
                            </editable>
                        </div>
                    </div>
                </form>
            </div>
        </article>
    </section>
</div>
<div *ngIf="!directorEditing && (!inOrg && isDirector)">
    <section>
        <article>
            <div *ngIf="!editing">
                <form *ngIf="orgInfo" [formGroup]="groupedForm" class="w-full max-w-lg">
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-legal-name">
                                Legal Name
                            </label>

                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.legalName }}
                            </div>

                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-year-founded">
                                Year Founded
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.yearFounded }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-current-operating-budget">
                                Current Operating Budget
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{
                                orgObj.currentOperatingBudget | currency
                                }}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-executive-director">
                                Executive Director
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.director }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-phone">
                                Phone Number
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.phone }}
                            </div>
                        </div>
                    </div>
                    <div class="block tracking-wide text-gray-700 text-base mb-2">
                        Contact Person
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person">
                                Name
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.contactPerson }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-title">
                                Title
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.contactPersonTitle }}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-contact-person-phone-number">
                                Phone Number
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.contactPersonPhoneNumber }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-email">
                                Email
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.email }}
                            </div>
                        </div>
                    </div>
                    <div class="block tracking-wide text-gray-700 text-base mb-2">
                        Principal/Administrative Office
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-address">
                                Address
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.address }}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-city">
                                City
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.city }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/3 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-state">
                                State
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.state }}
                            </div>
                        </div>
                        <div class="w-full md:w-1/3 px-3">
                            <label class="block tracking-wide text-sm mb-2" for="grid-zip">
                                Zip
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.zip }}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-wrap -mx-3 mb-6">
                        <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                            <label class="block tracking-wide text-sm mb-2" for="grid-website">
                                Website
                            </label>
                            <div
                                class="appearance-none block w-full text-gray-700 border border-white rounded py-3 px-4 mb-3 leading-tight">
                                {{ orgObj.website }}
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </article>
    </section>
</div>